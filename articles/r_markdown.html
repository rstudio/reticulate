<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>R Markdown Python Engine • reticulate</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="R Markdown Python Engine">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">reticulate</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.44.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/arrays.html">Arrays in R and Python</a></li>
    <li><a class="dropdown-item" href="../articles/calling_python.html">Calling Python from R</a></li>
    <li><a class="dropdown-item" href="../articles/package.html">Using reticulate in an R Package</a></li>
    <li><a class="dropdown-item" href="../articles/python_dependencies.html">Managing an R Package's Python Dependencies</a></li>
    <li><a class="dropdown-item" href="../articles/python_packages.html">Installing Python Packages</a></li>
    <li><a class="dropdown-item" href="../articles/python_primer.html">Primer on Python for R Users</a></li>
    <li><a class="dropdown-item" href="../articles/r_markdown.html">R Markdown Python Engine</a></li>
    <li><a class="dropdown-item" href="../articles/rstudio_ide.html">RStudio IDE Tools for reticulate</a></li>
    <li><a class="dropdown-item" href="../articles/versions.html">Python Version Configuration</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstudio/reticulate/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>R Markdown Python Engine</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/reticulate/blob/main/vignettes/r_markdown.Rmd" class="external-link"><code>vignettes/r_markdown.Rmd</code></a></small>
      <div class="d-none name"><code>r_markdown.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <strong>reticulate</strong> package includes a Python engine for
<a href="https://rmarkdown.rstudio.com/" class="external-link">R Markdown</a> that enables
easy interoperability between Python and R chunks.</p>
<p>Python chunks behave very similar to R chunks (including graphical
output from matplotlib) and the two languages have full access each
other’s objects. Built in conversion for many Python object types is
provided, including <a href="https://numpy.org/" class="external-link">NumPy</a> arrays and <a href="https://pandas.pydata.org/" class="external-link">Pandas</a> data frames.</p>
<p>If you are using knitr version 1.18 or higher, then the reticulate
Python engine will be enabled by default whenever reticulate is
installed and no further setup is required. If you are running an
earlier version of knitr or want to disable the use of the reticulate
engine see the <a href="#engine-setup">Engine Setup</a> section
below.</p>
</div>
<div class="section level2">
<h2 id="python-version">Python Version<a class="anchor" aria-label="anchor" href="#python-version"></a>
</h2>
<p>By default, reticulate uses the version of Python found on your
<code>PATH</code> (i.e. <code>Sys.which("python")</code>). If you want
to use an alternate version you should add one of the
<code><a href="../reference/use_python.html">use_python()</a></code> family of functions to your R Markdown setup
chunk, for example:</p>
<p><img src="images/python_version.png" class="screenshot" style="width:98.0%"></p>
<p>See the article on <a href="versions.html">Python Version
Configuration</a> for additional details on configuring Python versions
(including the use of conda or virtualenv environments).</p>
</div>
<div class="section level2">
<h2 id="python-chunks">Python Chunks<a class="anchor" aria-label="anchor" href="#python-chunks"></a>
</h2>
<p>Python code chunks work exactly like R code chunks: Python code is
executed and any print or graphical (matplotlib) output is included
within the document.</p>
<p>Python chunks all execute within a single Python session so have
access to all objects created in previous chunks. Chunk options like
<code>echo</code>, <code>include</code>, etc. all work as expected.</p>
<p>Here’s an R Markdown document that demonstrates this:</p>
<p><img src="images/python_chunks.png" class="screenshot" style="width:98.0%"></p>
<p><a href="https://posit.co/download/rstudio-desktop/" class="external-link">RStudio v1.2</a>
or greater for reticulate IDE support.</p>
</div>
<div class="section level2">
<h2 id="calling-python-from-r">Calling Python from R<a class="anchor" aria-label="anchor" href="#calling-python-from-r"></a>
</h2>
<p>All objects created within Python chunks are available to R using the
<code>py</code> object exported by the reticulate package. For example,
the following code demonstrates reading and filtering a CSV file using
Pandas then plotting the resulting data frame using ggplot2:</p>
<p><img src="images/rmarkdown_engine_zoomed.png" class="screenshot" style="width:98.0%"></p>
<p>See the <a href="calling_python.html">Calling Python from R</a>
article for additional details on how to interact with Python types from
within R</p>
</div>
<div class="section level2">
<h2 id="calling-r-from-python">Calling R from Python<a class="anchor" aria-label="anchor" href="#calling-r-from-python"></a>
</h2>
<p>You can analogously access R objects within Python chunks via the
<code>r</code> object. For example:</p>
<p><img src="images/r_from_python.png" class="screenshot" style="width:98.0%"></p>
</div>
<div class="section level2">
<h2 id="engine-setup">Engine Setup<a class="anchor" aria-label="anchor" href="#engine-setup"></a>
</h2>
<p>If you are using a version of knitr prior to 1.18 then add this code
to your setup chunk to enable the reticulate Python engine:</p>
<p><img src="images/reticulate_enable.png" class="screenshot" style="width:98.0%"></p>
<p>If you do not wish to use the reticulate Python engine then set the
<code>python.reticulate</code> chunk option to <code>FALSE</code>:</p>
<p><img src="images/reticulate_disable.png" class="screenshot" style="width:98.0%"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tomasz Kalinowski, Kevin Ushey, JJ Allaire, RStudio, Yuan Tang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
