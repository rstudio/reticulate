<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Installing Python Packages • reticulate</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Installing Python Packages">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">reticulate</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.42.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/arrays.html">Arrays in R and Python</a>
    </li>
    <li>
      <a href="../articles/calling_python.html">Calling Python from R</a>
    </li>
    <li>
      <a href="../articles/package.html">Using reticulate in an R Package</a>
    </li>
    <li>
      <a href="../articles/python_dependencies.html">Managing an R Package's Python Dependencies</a>
    </li>
    <li>
      <a href="../articles/python_packages.html">Installing Python Packages</a>
    </li>
    <li>
      <a href="../articles/python_primer.html">Primer on Python for R Users</a>
    </li>
    <li>
      <a href="../articles/r_markdown.html">R Markdown Python Engine</a>
    </li>
    <li>
      <a href="../articles/rstudio_ide.html">RStudio IDE Tools for reticulate</a>
    </li>
    <li>
      <a href="../articles/versions.html">Python Version Configuration</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/reticulate/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Installing Python Packages</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/reticulate/blob/main/vignettes/python_packages.Rmd" class="external-link"><code>vignettes/python_packages.Rmd</code></a></small>
      <div class="hidden name"><code>python_packages.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="declaring-python-requirements-with-py_require">Declaring Python Requirements with <code>py_require()</code><a class="anchor" aria-label="anchor" href="#declaring-python-requirements-with-py_require"></a>
</h2>
<p><code><a href="../reference/py_require.html">py_require()</a></code> is the recommended way to declare Python
dependencies. A <code><a href="../reference/py_require.html">py_require()</a></code> call is similar to a
<code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> call for Python packages.</p>
<p><code><a href="../reference/py_require.html">py_require()</a></code>:</p>
<ul>
<li>Should appear near the beginning of an R script.</li>
<li>Declares the Python dependencies needed for the script.</li>
<li>Applies only to the current R session.</li>
<li>Has no effect if called multiple times with the same arguments.</li>
</ul>
<p>R packages can also call <code><a href="../reference/py_require.html">py_require()</a></code> when loaded, and
their declared dependencies are combined with those declared by the user
and other loaded R packages.</p>
<p>Calling <code>py_require("pkg")</code> updates the Python
requirements manifest that reticulate maintains for the current R
session. This manifest is used only if no manually managed Python
environment is found earlier in the Python <a href="../versions#order-of-discovery">Order of Discovery</a>. The
manifest is not consulted and requirements are not resolved until
reticulate needs to initialize Python, typically at the first
<code><a href="../reference/import.html">import()</a></code> call. Requirements are resolved into a cached
ephemeral environment specific to the unique set of dependencies
declared.</p>
<p>While not required, it is generally recommended to declare all Python
dependencies before reticulate initializes Python. The simplest approach
is to place all <code><a href="../reference/py_require.html">py_require()</a></code> calls at the start of the
script, alongside <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> calls.</p>
<p>Usage example:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/reticulate/">reticulate</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/py_require.html">py_require</a></span><span class="op">(</span><span class="st">"jax"</span><span class="op">)</span>    <span class="co"># Declare jax is a requirement</span></span>
<span></span>
<span><span class="va">jax</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import.html">import</a></span><span class="op">(</span><span class="st">"jax"</span><span class="op">)</span> <span class="co"># &lt;-- initialize Python with declared requirements</span></span></code></pre></div>
<div class="section level3">
<h3 id="unsatisfiable-requirements-">Unsatisfiable requirements.<a class="anchor" aria-label="anchor" href="#unsatisfiable-requirements-"></a>
</h3>
<p>It’s possible to inadvertently declare an unsatisfiable set of Python
requirements. This can happen for a variety of reasons, most often due
to:</p>
<ul>
<li>Incompatible requirements declared by different R packages.</li>
<li>A recently published Python package version that introduces
conflicts.</li>
</ul>
<p>To troubleshoot:</p>
<ol style="list-style-type: decimal">
<li>Figure out what the conflicting requirements are and where they are
coming from.</li>
<li>Update the requirements to resolve conflicts.</li>
</ol>
<p>To help with step 1, calling <code><a href="../reference/py_require.html">py_require()</a></code> with no
arguments will print out a manifest of the current requirements, as well
as a table showing what requirements were declared by different R
packages.</p>
<p>Additionally, attempting to initialize Python will print out a
detailed error message.</p>
<p>For example:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/reticulate/">reticulate</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/py_require.html">py_require</a></span><span class="op">(</span><span class="st">"numpy&gt;2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/py_require.html">py_require</a></span><span class="op">(</span><span class="st">"numpy&lt;2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/import.html">import</a></span><span class="op">(</span><span class="st">"numpy"</span><span class="op">)</span></span></code></pre></div>
<pre><code>  × No solution found when resolving `--with` dependencies:
  ╰─▶ Because you require numpy&gt;2 and numpy&lt;2, we can conclude that your
      requirements are unsatisfiable.
uv error code: 1
-- Current requirements -------------------------------------------------
 Python:   3.11.11 (reticulate default)
 Packages: numpy, numpy&gt;2, numpy&lt;2
-------------------------------------------------------------------------
Error in uv_get_or_create_env() :
  Call `py_require()` to remove or replace conflicting requirements.</code></pre>
<p>You can call <code><a href="../reference/py_require.html">py_require()</a></code> again to update the
requirements and make them satisfiable. Options for resolving issues
include:</p>
<ol style="list-style-type: decimal">
<li>
<p><strong>Rolling Back to a Known Working State</strong></p>
<p>If your requirements were previously satisfiable but recently broke,
it is likely due to a newly published package version. You can roll back
to a known working state by specifying a date with
<code>exclude_newer</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Roll back to a known working state.</span></span>
<span><span class="fu"><a href="../reference/py_require.html">py_require</a></span><span class="op">(</span>exclude_newer <span class="op">=</span> <span class="st">"2025-01-19"</span><span class="op">)</span></span></code></pre></div>
</li>
<li>
<p><strong>Removing Conflicting Requirements</strong></p>
<p>If your requirements cannot be satisfied due to conflicts, you can
use <code>action = "remove"</code> or <code>action = "set"</code> to
update or remove specific packages.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/py_require.html">py_require</a></span><span class="op">(</span><span class="st">"numpy&lt;2"</span>, action <span class="op">=</span> <span class="st">"remove"</span><span class="op">)</span></span></code></pre></div>
<p>You can also retrieve and modify the full set of current requirements
if needed. For example, given a larger set of conflicting tensorflow
requirements:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Declare conflicting requirements.</span></span>
<span><span class="fu"><a href="../reference/py_require.html">py_require</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tensorflow==2.17.*"</span>,</span>
<span>             <span class="st">"tensorflow&lt;=2.16"</span>,</span>
<span>             <span class="st">"tensorflow[and-cuda]"</span>,</span>
<span>             <span class="st">"tensorflow-cpu"</span>,</span>
<span>             <span class="st">"tensorflow&lt;=2.18"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>You can use <code>action = "remove"</code> to remove all
TensorFlow-related requirements:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Remove all TensorFlow requirements.</span></span>
<span><span class="va">all_py_pkgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/py_require.html">py_require</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">packages</span></span>
<span><span class="va">tf_pkgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"tensorflow"</span>, <span class="va">all_py_pkgs</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/py_require.html">py_require</a></span><span class="op">(</span><span class="va">tf_pkgs</span>, action <span class="op">=</span> <span class="st">"remove"</span><span class="op">)</span></span></code></pre></div>
<p>Or you can use <code>action = "set"</code> to replace all declared
requirements:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Replace all package requirements except TensorFlow.</span></span>
<span><span class="va">all_py_pkgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/py_require.html">py_require</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">packages</span></span>
<span><span class="va">all_py_pkgs_sans_tf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"tensorflow"</span>, <span class="va">all_py_pkgs</span>, value <span class="op">=</span> <span class="cn">TRUE</span>, invert <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/py_require.html">py_require</a></span><span class="op">(</span><span class="va">all_py_pkgs_sans_tf</span>, action <span class="op">=</span> <span class="st">"set"</span><span class="op">)</span></span></code></pre></div>
</li>
<li>
<p><strong>Installing a Development Version</strong></p>
<p>If a development version of a package has fixed the issue but has not
yet been published to PyPi, you can install it directly from GitHub or
the local filesystem.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install the 'markitdown' package from GitHub.</span></span>
<span><span class="fu"><a href="../reference/py_require.html">py_require</a></span><span class="op">(</span><span class="st">"markitdown@git+https://github.com/microsoft/markitdown.git@main#subdirectory=packages/markitdown"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install it from the local filesystem.</span></span>
<span><span class="fu"><a href="../reference/py_require.html">py_require</a></span><span class="op">(</span><span class="st">"markitdown@/Users/tomasz/github/microsoft/markitdown/packages/markitdown/"</span><span class="op">)</span></span></code></pre></div>
<p>See <code><a href="../reference/py_require.html">py_require()</a></code> for more examples.</p>
</li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="manually-managing-python-installations">Manually managing Python installations<a class="anchor" aria-label="anchor" href="#manually-managing-python-installations"></a>
</h2>
<div class="alert alert-info">
<blockquote>
<h2 id="updated-guidance"><strong>⚠ Updated Guidance</strong></h2>
<p>The remainder of this vignette describes how to manually manage
Python installations. Manually managing Python installations is no
longer necessary nor recommended.</p>
<p>It is instead recommended to use <code><a href="../reference/py_require.html">py_require()</a></code> to specify
Python dependencies. Note that <code><a href="../reference/py_require.html">py_require()</a></code> has no effect
if using a self-managed Python installation.</p>
</blockquote>
</div>
</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Python packages are typically installed from one of two package
repositories:</p>
<ol style="list-style-type: decimal">
<li><p><a href="https://pypi.org/" class="external-link">PyPI</a>; or</p></li>
<li><p><a href="https://docs.conda.io/docs/" class="external-link">Conda</a></p></li>
</ol>
<p>Any Python package you install from PyPI or Conda can be used from R
with reticulate.</p>
<p>Each installation of Python on your system has its own set of
packages. How reticulate selects a Python installation, and how you can
configure the behavior, is described in the <a href="versions.html">version</a> vignette.</p>
<div class="section level3">
<h3 id="python-environments">Python environments<a class="anchor" aria-label="anchor" href="#python-environments"></a>
</h3>
<p>When installing Python packages it’s best practice to isolate them
within a Python environment (a named Python installation that exists for
a specific project or purpose). This provides a measure of isolation, so
that updating a Python package for one project doesn’t impact other
projects. The risk for package incompatibilities is significantly higher
with Python packages than it is with R packages, because unlike CRAN,
PyPI does not enforce, or even check, if the current versions of
packages currently available are compatible.</p>
<p>The reticulate package includes functions for creating Python
environments (either virtualenvs or conda envs) and installing packages
within them. Both virtual environments and conda environments are
supported on all platforms (Linux, macOS, and Windows).</p>
<p>Note that facilities to create and manage virtual environments
(commonly refereed to as a “venv”) come with the Python standard
library, and are the recommended way to create isolated python
installations. Conda environments are supported as well, but be aware
that there is the potential for binary incompatibilities between
packages built by conda and packages built outside of conda (e.g., <a href="https://cran.r-project.org/" class="external-link">CRAN</a>, or <a href="https://packagemanager.posit.co/" class="external-link">PPM</a>).</p>
</div>
</div>
<div class="section level2">
<h2 id="simple-installation">Simple Installation<a class="anchor" aria-label="anchor" href="#simple-installation"></a>
</h2>
<p>The reticulate package includes a <code><a href="../reference/py_install.html">py_install()</a></code> function
that can be used to install one or more Python packages. The packages
will be by default be installed within a virtualenv or Conda environment
named “r-reticulate”. For example:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/reticulate/">reticulate</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/py_install.html">py_install</a></span><span class="op">(</span><span class="st">"pandas"</span><span class="op">)</span></span></code></pre></div>
<p>This provides a straightforward high-level interface to package
installation and helps encourage the use of a common default environment
(“r-reticulate”) across the installation of distinct Python
packages.</p>
<p>There are also functions available for directly managing both Conda
and virtualenvs for situations where you want more control over how
packages are installed. These functions are covered in the sections
below.</p>
</div>
<div class="section level2">
<h2 id="virtualenv-installation">Virtualenv installation<a class="anchor" aria-label="anchor" href="#virtualenv-installation"></a>
</h2>
<p>The following functions are available for managing Python
virtualenvs:</p>
<table class="table">
<colgroup>
<col width="31%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th>Function</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="../reference/virtualenv-tools.html">virtualenv_list()</a></code></td>
<td>List all available virtualenvs</td>
</tr>
<tr class="even">
<td><code><a href="../reference/virtualenv-tools.html">virtualenv_create()</a></code></td>
<td>Create a new virtualenv</td>
</tr>
<tr class="odd">
<td><code><a href="../reference/virtualenv-tools.html">virtualenv_install()</a></code></td>
<td>Install a package within a virtualenv</td>
</tr>
<tr class="even">
<td><code><a href="../reference/virtualenv-tools.html">virtualenv_remove()</a></code></td>
<td>Remove individual packages or an entire virtualenv</td>
</tr>
</tbody>
</table>
<p>Virtual environments are by default located at
<code>~/.virtualenvs</code>. You can change this behavior by defining
the <code>WORKON_HOME</code> environment variable.</p>
<p>Here’s an example of using these functions to create an environment,
install packages within it, then use the environment from R:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/reticulate/">reticulate</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create a new environment</span></span>
<span><span class="fu"><a href="../reference/virtualenv-tools.html">virtualenv_create</a></span><span class="op">(</span><span class="st">"r-reticulate"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># install SciPy</span></span>
<span><span class="fu"><a href="../reference/virtualenv-tools.html">virtualenv_install</a></span><span class="op">(</span><span class="st">"r-reticulate"</span>, <span class="st">"scipy"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># import SciPy (it will be automatically discovered in "r-reticulate")</span></span>
<span><span class="va">scipy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import.html">import</a></span><span class="op">(</span><span class="st">"scipy"</span><span class="op">)</span></span></code></pre></div>
<p>Note that you may have a given Python package installed in multiple
environments, in that case you may want to call the
<code><a href="../reference/use_python.html">use_virtualenv()</a></code> function to ensure that a specific
virtualenv is utilized by reticulate:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/reticulate/">reticulate</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># indicate that we want to use a specific virtualenv</span></span>
<span><span class="fu"><a href="../reference/use_python.html">use_virtualenv</a></span><span class="op">(</span><span class="st">"r-reticulate"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># import SciPy (will use "r-reticulate" as per call to use_virtualenv)</span></span>
<span><span class="va">scipy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import.html">import</a></span><span class="op">(</span><span class="st">"scipy"</span><span class="op">)</span></span></code></pre></div>
<p>Virtual environments are typically derived from (created using) a
“starter” python installation. That is, there must be a python
installation already installed on the system before you can create
virtual environments. You can install a “venv starter” python in a
variety of ways, however is most convenient:</p>
<ul>
<li>On macOS and Windows, visit <a href="https://www.python.org/downloads/" class="external-link uri">https://www.python.org/downloads/</a> and install a suitable
version for your system.</li>
<li>On Linux, you can use prebuilt python binaries from <a href="https://github.com/rstudio/python-builds" class="external-link uri">https://github.com/rstudio/python-builds</a>
</li>
<li>On all platforms, you can use
<code><a href="../reference/install_python.html">reticulate::install_python()</a></code>. Note that on macOS and Linux,
this will build Python from source on your system, which may take up to
a few minutes.</li>
</ul>
<p>There can be multiple versions of Python installed along-side each
other on a system (for example, Python versions 3.9, 3.10, and 3.11). By
default, reticulate will use the latest version installed on the system
for creating the virtualenv. If you have specific version constraints on
the version of Python required, you can supply those to the
<code>version</code> argument–for example:
<code>virtualenv_create(version = "&gt;=3.9")</code></p>
<p>At anytime, you can see all the available virtualenv starters on your
system by calling <code>virtualenv_starter(all = TRUE)</code>. If you
have Python venv starters installed in non-standard locations, you can
inform reticulate where to look by setting the environment variable
<code>RETICULATE_VIRTUALENV_STARTER</code>.</p>
</div>
<div class="section level2">
<h2 id="conda-installation">Conda installation<a class="anchor" aria-label="anchor" href="#conda-installation"></a>
</h2>
<p>The following functions are available for managing Conda
environments:</p>
<table class="table">
<colgroup>
<col width="24%">
<col width="75%">
</colgroup>
<thead><tr class="header">
<th>Function</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="../reference/conda-tools.html">conda_list()</a></code></td>
<td>List all available conda environments</td>
</tr>
<tr class="even">
<td><code><a href="../reference/conda-tools.html">conda_create()</a></code></td>
<td>Create a new conda environment</td>
</tr>
<tr class="odd">
<td><code><a href="../reference/conda-tools.html">conda_install()</a></code></td>
<td>Install a package within a conda environment</td>
</tr>
<tr class="even">
<td><code><a href="../reference/conda-tools.html">conda_remove()</a></code></td>
<td>Remove individual packages or an entire conda environment</td>
</tr>
</tbody>
</table>
<p>Here’s an example of using these functions to create an environment,
install packages within it, then use the environment from R:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/reticulate/">reticulate</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create a new environment</span></span>
<span><span class="fu"><a href="../reference/conda-tools.html">conda_create</a></span><span class="op">(</span><span class="st">"r-reticulate"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># install SciPy</span></span>
<span><span class="fu"><a href="../reference/conda-tools.html">conda_install</a></span><span class="op">(</span><span class="st">"r-reticulate"</span>, <span class="st">"scipy"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># import SciPy (it will be automatically discovered in "r-reticulate")</span></span>
<span><span class="va">scipy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import.html">import</a></span><span class="op">(</span><span class="st">"scipy"</span><span class="op">)</span></span></code></pre></div>
<p>Note that you may have a given Python package installed in multiple
Conda environments, in that case you may want to call the
<code><a href="../reference/use_python.html">use_condaenv()</a></code> function to ensure that a specific Conda
environment is utilized by reticulate:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/reticulate/">reticulate</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># indicate that we want to use a specific condaenv</span></span>
<span><span class="fu"><a href="../reference/use_python.html">use_condaenv</a></span><span class="op">(</span><span class="st">"r-reticulate"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># import SciPy (will use "r-reticulate" as per call to use_condaenv)</span></span>
<span><span class="va">scipy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import.html">import</a></span><span class="op">(</span><span class="st">"scipy"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="shell-installation">Shell installation<a class="anchor" aria-label="anchor" href="#shell-installation"></a>
</h2>
<p>You can also use standard shell installation utilities
(<code>pip</code> or <code>conda</code>) to install Python packages:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># install into system level Python</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="ex">$</span> sudo pip install SciPy</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="co"># install into active Conda environment</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="ex">$</span> conda install SciPy</span></code></pre></div>
<p>When doing this, be sure to make note of which version of Python your
package has been installed within, and call <code><a href="../reference/use_python.html">use_python()</a></code>
functions as appropriate to ensure that this version is used by
reticulate.</p>
<p>Alternatively, within <code><a href="../reference/repl_python.html">repl_python()</a></code>, you can prefix
<code>!</code> to send a shell command, and the version of
<code>pip</code> or <code>conda</code> used will already be configured
for the Python installation reticulate is currently using.</p>
<pre class="shell"><code>!pip install scipy</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Tomasz Kalinowski, Kevin Ushey, JJ Allaire, RStudio, Yuan Tang.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

      </footer>
</div>






  </body>
</html>
